<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Work Day Scheduler</title>
    <link rel="stylesheet" href="assets/style.css">
  </head>
  <body>
    <header class="jumbotron">
        <h1 class="display-3">Work Day Scheduler</h1>
        <p class="lead">A simple calendar app for scheduling your work day</p>
        <p>Date/Time: <span id="datetime"></span></p>
    </header>

    <div class="container">
        <div class="row">
            <div class="hour">
                <label>9:00 A.M</label>     
                
                <textarea id="9amtext" class="userInput"></textarea>
                    <button id="9am" class="saveBtn">Save</button>
            </div>

            <div class="hour">
                <label>10:00 A.M</label>    
                
                <textarea id="10amtext" class="userInput"></textarea>
                    <button id="10am" class="saveBtn">Save</button>
            </div>

                <div class="hour">
                <label>11:00 A.M</label>    
                
                    <textarea id="11amtext" class="userInput"></textarea>
                        <button id="11am" class="saveBtn">Save</button>
                </div>

                <div class="hour">
                <label>12:00 P.M</label>    
                    <textarea id="12pmtext" class="userInput"></textarea>
                        <button id="12pm" class="saveBtn">Save</button>
                </div>
                <div class="hour">
                <label>1:00 P.M</label>     
                    <textarea id="1pmtext" class="userInput"></textarea>
                        <button id="1pm" class="saveBtn">Save</button>
                </div>

                <div class="hour">
                <label>2:00 P.M</label>     
                    <textarea id="2pmtext" class="userInput"></textarea>
                        <button id="2pm" class="saveBtn">Save</button>
                </div>

                <div class="hour">
                <label>3:00 P.M</label>     
                    <textarea id="3pmtext" class="userInput"></textarea>
                        <button id="3pm" class="saveBtn">Save</button>
                </div>

                <div class="hour">
                <label>4:00 P.M</label>     
                    <textarea id="4pmtext" class="userInput"></textarea>
                        <button id="4pm" class="saveBtn">Save</button>
                </div>

                <div class="hour">
                <label>5:00 P.M</label>     
                    <textarea id="5pmtext" class="userInput"></textarea>
                        <button id="5pm" class="saveBtn">Save</button>
                </div>

            </div>
            
    </div>
    
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="assets/moment.min.js"></script>

    <script>
        var daily = document.getElementsByClassName('userInput');

        $(".saveBtn").on("click", function(){
            //this.id
            console.log(this)

            // Was trying to use a switch case to run through everything but couldn't get the localStorage to function

            //var userInput = ("").val

            //switch ((this.id)) {
                //case 0:
                    //input = "9amtext";
                    //break;
                //case 1:
                    //input = "10amtext";
                    //break;
                //case 2:
                    //input = "11amtext";
                    //break;
                //case 3:
                    //input = "12pmtext";
                    //break;
                //case 4:
                    //input = "1pmtext";
                    //break;
                //case 5:
                    //input = "2pmtext";
                    //break;
                //case 6:
                    //input = "3pmtext";
                    //break;
                //case 7:
                    //input = "4pmtext";
                    //break;
                //case 8:
                    //input = "5pmtext";
                    //break;
            //}

                // I couldn't figure out how to save everything in the localStorage or to keep the infomation to save even after closed or refreshed

             //var inputValue = $('.userInput').val();
             //console.log(inputValue);
            //var inputKey = inputValue.val
            //console.log(inputKey);
             //if (inputKey && inputValue) {
                 //localStorage.setItem ('key', 'value');
                 //localStorage.getItem ('key');
                 //console.log(localStorage);
                 //console.log(key);
                 //console.log(value);
             //}
             //for(var i = 0; i < localStorage.length; i++) {
                 //const key = localStorage.key(i);
                 //const value = localStorage.getItem(key);

                 //inputValue.innerHTML += '${key}: ${value}';
                 //console.log(key)
             //}

             
    
        });
         console.log(moment())

         let m = moment();
         $("#datetime").html(m.format("MM/DD/YYYY, h:mm a"));
       
         function updateBackground() {
             var
             hr = (new Date()).getHours(),
             body = document.body,
             bstyle = body.style
             dailyhr = document.querySelector(".row");

             if (hr < 10) {
                 bstyle.backgroundColor = "grey"
                 }

             else if (hr < 20) {
                 bstyle.backgroundColor = "red";
             }

             else {
                 bstyle.backgroundColor = "green"
             }
         }

         setInterval(updateBackground, 1000 * 60);
         updateBackground();
         
         
        console.log(m.toString());
        
        // I could change the color of the background of the body but not the color of the rows of the hours.
        // not sure what i did wrong 
     

    </script>
  
    </body>
</html>